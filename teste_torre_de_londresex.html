// Função para verificar se o jogador venceu
function verificarVitoria() {
    const pinos = document.querySelectorAll('.peg-container');
    const pinoMenor = [...pinos].find(pino => pino.dataset.maxBalls === "1");
    const pinoMaior = [...pinos].find(pino => pino.dataset.maxBalls === "3");
    
    const bolaVermelha = document.getElementById('ball-red');
    const bolaAzul = document.getElementById('ball-blue');
    const bolaVerde = document.getElementById('ball-green');

    // Verifica se a bola vermelha está no pino menor
    const condicao1 = pinoMenor.contains(bolaVermelha);

    // Verifica se a bola azul e a bola verde estão no pino maior, e a azul está acima da verde
    const bolasNoPinoMaior = Array.from(pinoMaior.children);
    const condicao2 = bolasNoPinoMaior.indexOf(bolaAzul) > bolasNoPinoMaior.indexOf(bolaVerde);

    // Verifica se a bola verde está em algum pino (sem mudar de posição)
    const condicao3 = document.body.contains(bolaVerde);

    if (condicao1 && condicao2 && condicao3) {
        mensagemVitoria.innerHTML = "<strong>CERTO!!</strong>";
        mensagemVitoria.style.display = 'block';
        proximoProblemaButtonContainer.style.display = 'block';

        // Remove o atributo draggable de todas as bolas
        document.querySelectorAll('.ball').forEach(bola => {
            bola.draggable = false;
        });

        terminar(); // Chama a função para avançar para o próximo problema
        return true;
    }

    return false;
}
