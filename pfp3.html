<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <title>Questionário de Sintomas</title>
    <link rel="stylesheet" href="css/pfp1.css">
</head>
<body>
    <main id='tela-principal'>
        <div id="nome-usuario"></div> <!-- Div para exibir o nome do usuário -->
        <p class="data"></p>
        <h1 id="titulo">Teste de estress</h1>
        <h1><strong>Marque os sintomas que tem experimentado no último Mês</strong></h1>
        <div class="exemplo-container">
            <div class="checkbox-container">
                <input type="checkbox" id="sintoma1" name="sintoma1" value="Diarréia Frequente">
                <label for="sintoma1">Diarréia Frequente</label><br>
                <input type="checkbox" id="sintoma2" name="sintoma2" value="Dificuldade Sexual">
                <label for="sintoma2">Dificuldade Sexual</label><br>
                <input type="checkbox" id="sintoma3" name="sintoma3" value="Insônia (Dificuldade para dormir)">
                <label for="sintoma3">Insônia (Dificuldade para dormir)</label><br>
                <input type="checkbox" id="sintoma4" name="sintoma4" value="Náusea">
                <label for="sintoma4">Náusea</label><br>
                <input type="checkbox" id="sintoma5" name="sintoma5" value="tiques">
                <label for="sintoma5">tiques</label><br>
                <input type="checkbox" id="sintoma6" name="sintoma6" value="Hipertensão Arterial Continuada (Pressão Alta)">
                <label for="sintoma6">Hipertensão Arterial Continuada (Pressão Alta)</label><br>
                <input type="checkbox" id="sintoma7" name="sintoma7" value="Problemas Dematológicos Prolongados ( Problema de Pele)">
                <label for="sintoma7">Problemas Dematológicos Prolongados ( Problema de Pele)</label><br>
                <input type="checkbox" id="sintoma8" name="sintoma8" value="Mudança extrema de Apetite">
                <label for="sintoma8">Mudança extrema de Apetite</label><br>
                <input type="checkbox" id="sintoma9" name="sintoma9" value="Excesso de Gases">
                <label for="sintoma9">Excesso de Gases</label><br>
                <input type="checkbox" id="sintoma10" name="sintoma10" value="Tontura Frequente">
                <label for="sintoma10">Tontura Frequente</label><br>
                <input type="checkbox" id="sintoma11" name="sintoma11" value="Úlcera">
                <label for="sintoma11">Úlcera</label><br>
                <input type="checkbox" id="sintoma12" name="sintoma12" value="Enfarto">
                <label for="sintoma12">Enfarto</label><br>
                <input type="checkbox" id="sintoma13" name="sintoma13" value="Impossibilidade de Trabalhar">
                <label for="sintoma13">Impossibilidade de Trabalhar</label><br>
                <input type="checkbox" id="sintoma14" name="sintoma14" value="Pesadelos">
                <label for="sintoma14">Pesadelos</label><br>
                <input type="checkbox" id="sintoma15" name="sintoma15" value="Sensação de incompetência em todas as áreas">
                <label for="sintoma15">Sensação de incompetência em todas as áreas</label><br>
                <input type="checkbox" id="sintoma16" name="sintoma16" value="Vontade de Fugir de Tudo">
                <label for="sintoma16">Vontade de Fugir de Tudo</label><br>
                <input type="checkbox" id="sintoma17" name="sintoma17" value="Apatia Depressão ou raiva Prolongada">
                <label for="sintoma17">Apatia Depressão ou raiva Prolongada</label><br>
                <input type="checkbox" id="sintoma18" name="sintoma18" value="Cansaço Excessivo">
                <label for="sintoma18">Cansaço Excessivo</label><br>
                <input type="checkbox" id="sintoma19" name="sintoma19" value="Pensar/Falar constantemente em um só assunto">
                <label for="sintoma19">Pensar/Falar constantemente em um só assunto</label><br>
                <input type="checkbox" id="sintoma20" name="sintoma20" value="Irritabilidade sem causa Aparente">
                <label for="sintoma20">Irritabilidade sem causa Aparente</label><br>
                <input type="checkbox" id="sintoma21" name="sintoma21" value="Angústia/Ansiedade Diária">
                <label for="sintoma21">Angústia/Ansiedade Diária</label><br>
                <input type="checkbox" id="sintoma22" name="sintoma22" value="Hipersensibilidade emotiva">
                <label for="sintoma22">Hipersensibilidade emotiva</label><br>
                <input type="checkbox" id="sintoma23" name="sintoma23" value="Perda do Senso de Humor">
                <label for="sintoma23">Perda do Senso de Humor</label><br>
            </div>
        </div>

        <div class="button-container">
            <button class="next-button">Terminar</button>
        </div>

</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>

<script>

    window.onload = function() {
            var nomeUsuario = localStorage.getItem('nomeUsuario');
            var nomeDiv = document.getElementById('nome-usuario');
            if (nomeDiv && nomeUsuario) {
                nomeDiv.textContent = nomeUsuario;
            }
        };

    function getDataAtual() {
        var dataAtual = new Date();
        var dia = dataAtual.getDate();
        var mes = dataAtual.getMonth() + 1; 
        var ano = dataAtual.getFullYear();
        var dataFormatada = dia + '/' + mes + '/' + ano;
        return dataFormatada;
    }

    var dataElements = document.querySelectorAll('.data');
    dataElements.forEach(function(element) {
        element.innerText = "Data atual: " + getDataAtual();
    });

    const checkboxes = document.querySelectorAll('.checkbox-container input[type="checkbox"]');

    checkboxes.forEach(checkbox => {
    checkbox.addEventListener('change', () => {
        const label = checkbox.nextElementSibling;
        if (checkbox.checked) {
        label.style.fontWeight = 'bold';
        label.style.color = '#004080'; // Azul escuro
        } else {
        label.style.fontWeight = 'normal';
        label.style.color = '#343a40'; // Cor original do texto
        }
        });
    });
   
    document.querySelector('.next-button').addEventListener('click', () => {
        html2canvas(document.body, {
            onrendered: function (canvas) {
                var image = canvas.toDataURL("image/jpeg"); 
                var link = document.createElement('a');
                link.href = image;
                link.download = 'screenshot.jpeg'; 
                link.click();
                window.location.href = 'fim_test.html';
            }
        });
    });

</script>
</body>
</html>
